# Базовое визуальное форматирование

[https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/index.html](https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/index.html)

## Базовые боксы

В своей основе CSS принимает, что каждый элемент генерирует один или более прямоугольных боксов, называемых _element boxes_.

![Блочная модель CSS](/articles/2018.09.30/00166.jpeg "Блочная модель CSS")

- Область содержимого (`content`)
- Область область отступов (`padding`)
- Область границ (`border`)
- Область полей (`margin`)

Отступы (padding) не могут быть отрицательными, а поля (margin) могут.
Рамки (border) не могут быть отрицательными.

### Термины

#### Нормальный поток

Это отображение текста, написанного на западных языках, слева направо и сверху вниз и обычная схема компоновки текста традиционных HTML документов ltr. Направление потока может меняться для восточных языков rtl. Большинство элементов находятся в нормальном потоке. Выйти из нормального потока элемент может только если это быть плавающим (floated), позиционированым (positioned), быть элементом флексбокса или элементом сетки (grid layout element).

Блоки ведут себя аналогично.

#### Незамещаемый элемент

Элемент, содержимое которого включено в документ. (Например параграф, так как его контент уже есть в документе).

#### Замещаемый элемент

Элемент, который служит полем подстановки для чего то другого. (`img`, большинство элементов `form`)

#### Корневой элемент :root

Элемент который находится на вершине документа, для HTML документа это элемент `html`. Для XML документа может быть чем угодно.

#### Блочный бокс

Боксы, которые генерируют элементы, такие как абзацы `<p>`, заголовки `<h1>` или `<div>`. Эти элементы в нормальном потоке генерируют «разделители строк» как перед, так и после своих блоков, поэтому блочные элементы в нормальном потоке размещаются по вертикали. Любой элемент можно принудительно сделать блочным, объявив `display: block`.

#### Строковый бокс (strong, span)

Боксы, которые генерируют элементы как `strong` или `span`. Они не генерируют «разрывов строки» перед или после себя и являются потомками блочных элементов.  Любой элемент можно принудительно сделать строчным, объявив `display: inline`.

#### Строчно-блочный бокс

Внутреннее поведение такого бокса соответствует блочному, но снаружи он ведет себя как строковый бокс. Представьте элемент `div` который находится внутри строки. Поведение похоже на замещение `img`.
Любой элемент можно принудительно сделать строчно-блочным, объявив `display: inline-block`.

## Блок-контейнер

- Прямой родитель элемента
- Каждый элемент располагается относительно его блока контейнера

Блок-контейнер является _контекстом расположения_ для элемента. CSS определяет серию правил для определения блока-контейнера элемента.

Для элемента в нормальном потоке, блок-контейнер формируется от _края содержимого_ ближайшего предка

```html
<body>
    <div>
        <p>Это параграф.</p>
    </div>
</body>
```

В этом примере, контейнером элемента `p` является элемент `div`, а для `div` контейнером будет `body`.

### Изменение отображения элемента

Свойство `display` [https://developer.mozilla.org/ru/docs/Web/CSS/display](https://developer.mozilla.org/ru/docs/Web/CSS/display)

#### Inline to Block

[https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/display-changing-inline-to-block.html](https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/display-changing-inline-to-block.html)

#### List Item to inline

[https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/display-changing-list-to-inline.html](https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/display-changing-list-to-inline.html)

### Блочные элементы

Расположение блочных элементов вдоль горизонтальной и вертикальной осей может различаться. Чтобы полностью понимать как работают блочные элементы, вы должны ясно понимать из каких границ и областей он состоит.

![Области и границы блока](/articles/2018.09.30/00169.gif "Области и границы блока")

По-умолчанию ширина `width` блочного элемента, это расстояние от левого _внутреннего края_ до _правого внутреннего края_, а высота `height` это расстояние от верхнего внутреннего края, до нижнего. Оба эти свойства могут применяться к элементу генерирующему блочный бокс.

Горизонтальное форматирование [pen](https://codepen.io/curtdp/pen/eeZpyx)

Поведение блоков в нормальном потоке (без float) [pen](https://codepen.io/curtdp/pen/JOXGXR)

В случае необходимости, мы можем изменить как трактуются эти свойства, изменив свойство `box-sizing`

`content-box | border-box`

[https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/box-sizing.html](https://meyerweb.github.io/csstdg4figs/07-basic-visual-formatting/box-sizing.html)

[Блоковая модель (боксовая модель, box model)](https://developer.mozilla.org/ru/docs/Web/CSS/box_model)


#### [box-sizing](https://developer.mozilla.org/ru/docs/Web/CSS/box-sizing)

- PEN [https://codepen.io/curtdp/pen/xPVwax](https://codepen.io/curtdp/pen/xPVwax)
- PEN сценарии [https://codepen.io/curtdp/pen/PONPME](https://codepen.io/curtdp/pen/PONPME)

#### Свойства горизонтального форматирования

`margin-left | border-left | padding-left || width || padding-right | border-right | margin-right` — относятся к горизонтальной компоновке контейнеров блочных элементов (рис на стр 194 Эрик Мейер)

`margin-left | width | margin-right`: можно сделать значение — `auto`

`border-left | padding-left || || padding-right | border-right` — 0 (по умолчанию) или конкретное ПОЛОЖИТЕЛЬНОЕ значение длины

#### Применение значения auto

Если одному из свойств `width`, `margin-left` или `margin-right` задано значение auto, а для оставшихся двух – определенные  значения, то свойство, заданное как auto, определяет длину, необходимую, чтобы сделать ширину блока равной ширине родительского элемента.

пример:

- [pen](https://codepen.io/curtdp/pen/MOyKQY)

#### Поля margin (схлопывание, отрицательные значения)

margin могут иметь отрицательные значения

Вычисленное значение width: auto; потомка может быть больше родительского элемента, для сохранения равенства, спецификация не нарушена, значения семи свойств образуют требуемую сумму (ширина родительского элемента).

- [Пример 1](https://codepen.io/curtdp/pen/dZMMzQ)
- [Пример 2](https://codepen.io/curtdp/pen/NwbyEV)

Горизонтальные поля не сворачиваются
Вертикальные поля сворачиваются, остается расстояние равное большему из соседних вертикальных полей.

#### Процентные значения

[https://codepen.io/curtdp/pen/ZaWOQR](https://codepen.io/curtdp/pen/ZaWOQR)

Сочетать процентные значения с другими при верстке сложно.

border можно задавать только в единицах измерения длины, а не в процентных.

Итог таков: создать абсолютно гибкую компоновку элемента исключительно с помощью процентных значений нельзя, разве что отказаться от применения рамок.

#### Замещаемые элементы:
Все также как у блочных элементов. Кроме — если задана ширина auto, то размером элемента будет его фактическая ширина.
[https://codepen.io/curtdp/pen/wPGWyr](https://codepen.io/curtdp/pen/wPGWyr)

### Вертикальное форматирование:

Эрик Мейер CSS стр. 203

Стандартная высота элемента определяется его содержимым. На высоту также влияет ширина содержимого: чем уже становится абзац, тем выше он должен быть, чтобы содержимое в него поместилось.

#### Свойства вертикального форматирования

```css
margin-top
border-top
padding-top
height
padding-bottom
border-bottom
margin-bottom
```

Сумма этих свойств равна высоте блока-контейнера

auto можно установить только для `margin-top`, `height`, `margin-bottom`

Если в нормальном потоке у блочного элемента свойства `margin-top` или `margin-bottom` auto, то вычисленным значением будет 0;

Процентные значения для высоты (с. 206)

[PEN](https://codepen.io/curtdp/pen/RjaGoj)

Высота контейнера с блочными потомками

[PEN](https://codepen.io/curtdp/pen/xPVEjq)

Если у блочного элемента с высотой auto в нормальном потоке есть только блочные потомки, тогда по умолчанию высота будет расстоянием от верха внешнего края рамки самого верхнего дочернего блочного элемента до низа внешнего края нижней рамки самого нижнего дочернего блочного элемента. Следовательно, поля дочерних элементов будут выходить за границы элемента, в котором они находятся.

### Сворачивание вертикальных полей

Важный аспект вертикального форматирования – сворачивание (collapsing) смежных вертикальных полей. Сворачивание применяется только к полям. Отступы и рамки, если они присутствуют, никогда не сворачиваются.

[PEN](https://codepen.io/curtdp/pen/bYpwzy)

#### Практика

[Holy Grail — Классика резиновых блогов](https://alistapart.com/article/holygrail) (до flexbox)

[pen](https://codepen.io/curtdp/pen/oagOzM)

#### Домашнее задание

Повторить пройденное

##### Самостоятельно изучить

- Эрик Мейер Глава 7

##### HTML Academy

[Блочная модель документа](https://htmlacademy.ru/courses/44)

##### Примеры верстки в Figma

[DAPPY LANDING](https://www.figma.com/file/YeykMEzhPvhxMP4Czmt6l12N/DAPPY-LANDING-x-DRIBBBLE?node-id=0%3A1) — для верстки берется только Frame **UI**


